services:
  2fauth:
    environment:
      # Timezone: Tipi
      - APP_TIMEZONE=${TZ}
      # URLs: [Loc]
      - ASSET_URL=https://2fauth.${LOCAL_DOMAIN}
      - APP_URL=https://2fauth.${LOCAL_DOMAIN}
      # OAuth2: [Loc]
      - OPENID_AUTHORIZE_URL=${OPENID_AUTHORIZE_URL}
      - OPENID_TOKEN_URL=${OPENID_TOKEN_URL}
      - OPENID_USERINFO_URL=${OPENID_USERINFO_URL}
      - OPENID_CLIENT_ID=${OPENID_CLIENT_ID}
      - OPENID_CLIENT_SECRET=${OPENID_CLIENT_SECRET}
    labels:
      # LocalIPs: [Loc], ForwardAuth: [Loc]
      traefik.http.routers.2fauth-local.middlewares: ipAllowList-local@file, forwardAuth-authentik@file
